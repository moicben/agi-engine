---
description: Defines core business workflows for WhatsApp account setup, branding, linking and messaging with parallel execution strategies
globs: workflows/*,runners/*,services/*,scripts/*,utils/adb.js,utils/ocr.js
alwaysApply: false
---


# workflow-algorithms

## Core Workflows

### Account Setup Flow (Importance: 95)
- Multi-stage workflow for configuring new WhatsApp accounts
- Retrieves and validates phone numbers 
- Handles SMS verification code input
- Manages device linking and QR code scanning
- Implements retry mechanisms for failed verifications
- Location: `workflows/setup.js`, `workflows/link-device.js`

### Branding Flow (Importance: 85)
- Parallel execution of account branding across multiple devices
- Implements staggered delays to avoid rate limiting
- Transfers branding assets between master and target devices
- Manages WhatsApp profile customization (name, photo, description)
- Location: `workflows/brand.js`

### Message Sending Flow (Importance: 90)
- Campaign-based message distribution system
- Contact retrieval and status management 
- Sequential message sending with randomized delays
- Support for text and image content
- OCR-based verification of message delivery
- Location: `workflows/send.js`

### Device Management Flow (Importance: 80)
- Environment-specific device handling (MoreLogin, BlueStacks, cloud)
- Device state tracking and command execution
- Screenshot capture and analysis
- ADB connection management and authentication
- Location: `services/device-service.js`

### SMS Integration Flow (Importance: 85)
- Integration with SMS-Activate API
- Phone number acquisition by country
- Activation status management
- Timeout and retry handling for SMS delivery
- Location: `services/sms-service.js`

### Universal Flow (Importance: 95) 
- Orchestrates setup, branding and sending workflows
- Manages workflow dependencies and sequencing
- Handles parallel execution across multiple devices
- Implements comprehensive error recovery
- Location: `workflows/universal.js`, `runners/universaler.js`

### Parallel Execution Strategy (Importance: 90)
- Validates device availability and connectivity
- Implements staggered launch delays
- Collects and aggregates workflow results
- Manages resource allocation across parallel flows
- Location: `parallel-runner.js`

$END$

 If you're using this file in context, clearly say in italics in one small line that "Context added by Giga workflow-algorithms" along with specifying exactly what information was used from this file in a human-friendly way, instead of using kebab-case use normal sentence case.